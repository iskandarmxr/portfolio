<%# Projects Grid Fragment - Showcase Style %>
<div class="projects-showcase">
  <% @projects.each_with_index do |project, index| %>
    <article class="showcase-card" 
             hx-get="/fragments/projects/<%= project.id %>"
             hx-target="#project-modal"
             hx-trigger="click"
             hx-swap="innerHTML">
      
      <%# Header with number and category %>
      <div class="showcase-header">
        <span class="showcase-number"><%= format('%02d', index + 1) %></span>
        <span class="showcase-divider"></span>
        <span class="showcase-category"><%= project.category&.upcase || 'WEB APP' %></span>
      </div>
      
      <%# Project title %>
      <h3 class="showcase-title"><%= project.title %></h3>
      
      <%# Gradient card with description and image %>
      <% gradient_start = project.gradient_start.presence || '#8B5CF6' %>
      <% gradient_end = project.gradient_end.presence || '#6366F1' %>
      <div class="showcase-preview" style="background: linear-gradient(135deg, <%= gradient_start %> 0%, <%= gradient_end %> 100%);">
        <p class="showcase-description"><%= project.short_description %></p>
        
        <div class="showcase-image">
          <% if project.image.attached? %>
            <%= image_tag project.image, alt: project.title %>
          <% elsif project.image_url.present? %>
            <img src="<%= project.image_url %>" alt="<%= project.title %>" loading="lazy">
          <% else %>
            <div class="showcase-placeholder">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.5">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <path d="m21 15-5-5L5 21"/>
              </svg>
            </div>
          <% end %>
        </div>
      </div>
      
      <%# Technology tags %>
      <div class="showcase-tags">
        <% project.technologies.first(5).each do |tech| %>
          <span class="showcase-tag"><%= tech.name %></span>
        <% end %>
      </div>
      
      <% if project.featured? %>
        <span class="showcase-featured">â˜… Featured</span>
      <% end %>
    </article>
  <% end %>
</div>

<% if @projects.empty? %>
  <div class="empty-state">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
      <path d="M3 3h18v18H3z"/>
      <path d="M9 9h6v6H9z"/>
    </svg>
    <p>No projects found</p>
  </div>
<% end %>
